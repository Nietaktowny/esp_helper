<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP Helper: projects/lib_tests/lib/tcp_controller/include/tcp_controller.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP Helper
   </div>
   <div id="projectbrief">Helper libraries used with ESP-IDF.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('tcp__controller_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tcp_controller.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>TCP Controller header file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;lwip/inet.h&quot;</code><br />
<code>#include &quot;lwip/sockets.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tcp_controller.h:</div>
<div class="dyncontent">
<div class="center"><img src="tcp__controller_8h__incl.png" border="0" usemap="#aprojects_2lib__tests_2lib_2tcp__controller_2include_2tcp__controller_8h" alt=""/></div>
<map name="aprojects_2lib__tests_2lib_2tcp__controller_2include_2tcp__controller_8h" id="aprojects_2lib__tests_2lib_2tcp__controller_2include_2tcp__controller_8h">
<area shape="rect" title="TCP Controller header file." alt="" coords="23,5,182,61"/>
<area shape="rect" title=" " alt="" coords="5,109,85,135"/>
<area shape="poly" title=" " alt="" coords="87,63,64,97,59,94,82,60"/>
<area shape="rect" title=" " alt="" coords="109,109,213,135"/>
<area shape="poly" title=" " alt="" coords="123,60,146,94,142,97,118,63"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="tcp__controller_8h__dep__incl.png" border="0" usemap="#aprojects_2lib__tests_2lib_2tcp__controller_2include_2tcp__controller_8hdep" alt=""/></div>
<map name="aprojects_2lib__tests_2lib_2tcp__controller_2include_2tcp__controller_8hdep" id="aprojects_2lib__tests_2lib_2tcp__controller_2include_2tcp__controller_8hdep">
<area shape="rect" title="TCP Controller header file." alt="" coords="72,5,230,61"/>
<area shape="rect" href="cli__manager_8c.html" title="Cli Manager library source file." alt="" coords="5,109,140,165"/>
<area shape="poly" title=" " alt="" coords="123,75,96,110,92,107,119,72"/>
<area shape="rect" href="tcp__controller_8c.html" title="TCP Controller source file." alt="" coords="164,109,299,165"/>
<area shape="poly" title=" " alt="" coords="184,72,212,107,208,110,180,75"/>
</map>
</div>
</div>
<p><a href="tcp__controller_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a30353f381f5fccbb956eea1f3a110b6c" id="r_a30353f381f5fccbb956eea1f3a110b6c"><td class="memItemLeft" align="right" valign="top"><a id="a30353f381f5fccbb956eea1f3a110b6c" name="a30353f381f5fccbb956eea1f3a110b6c"></a>
typedef int&#160;</td><td class="memItemRight" valign="bottom"><b>socket_t</b></td></tr>
<tr class="separator:a30353f381f5fccbb956eea1f3a110b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a274866f382f711a467053cf394d3792e" id="r_a274866f382f711a467053cf394d3792e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a274866f382f711a467053cf394d3792e">tcp_create_socket</a> (socket_t *sock)</td></tr>
<tr class="memdesc:a274866f382f711a467053cf394d3792e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create socket.  <br /></td></tr>
<tr class="separator:a274866f382f711a467053cf394d3792e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93c55c49481e20286541651c674561b" id="r_ab93c55c49481e20286541651c674561b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#ab93c55c49481e20286541651c674561b">tcp_prepare_address</a> (uint16_t port, const char *address, struct sockaddr_in *addr_ipv4)</td></tr>
<tr class="memdesc:ab93c55c49481e20286541651c674561b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare address for binding socket.  <br /></td></tr>
<tr class="separator:ab93c55c49481e20286541651c674561b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d32663b476a9417c5056b4d604438d" id="r_a46d32663b476a9417c5056b4d604438d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a46d32663b476a9417c5056b4d604438d">tcp_get_bound_socket_ip</a> (socket_t socket)</td></tr>
<tr class="memdesc:a46d32663b476a9417c5056b4d604438d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read IPv4 address to which socket is bound.  <br /></td></tr>
<tr class="separator:a46d32663b476a9417c5056b4d604438d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b781bbcb6353cf585fcb0003c42465" id="r_ae0b781bbcb6353cf585fcb0003c42465"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#ae0b781bbcb6353cf585fcb0003c42465">tcp_get_bound_socket_port</a> (socket_t socket)</td></tr>
<tr class="memdesc:ae0b781bbcb6353cf585fcb0003c42465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read port to which socket is bound.  <br /></td></tr>
<tr class="separator:ae0b781bbcb6353cf585fcb0003c42465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19f22c703b27c1834b997235fa198a6" id="r_aa19f22c703b27c1834b997235fa198a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#aa19f22c703b27c1834b997235fa198a6">tcp_bind_socket</a> (socket_t socket, struct sockaddr_in *addr_ipv4)</td></tr>
<tr class="memdesc:aa19f22c703b27c1834b997235fa198a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind socket to prepared address.  <br /></td></tr>
<tr class="separator:aa19f22c703b27c1834b997235fa198a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcee5d45743bfa00a044a753f3ffa501" id="r_abcee5d45743bfa00a044a753f3ffa501"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#abcee5d45743bfa00a044a753f3ffa501">tcp_socket_listen</a> (socket_t socket, int backlog)</td></tr>
<tr class="memdesc:abcee5d45743bfa00a044a753f3ffa501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen on socket for incoming connections.  <br /></td></tr>
<tr class="separator:abcee5d45743bfa00a044a753f3ffa501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb904407f0f4032b3936206e8db2e0aa" id="r_acb904407f0f4032b3936206e8db2e0aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#acb904407f0f4032b3936206e8db2e0aa">tcp_accept_client</a> (socket_t socket, socket_t *client)</td></tr>
<tr class="memdesc:acb904407f0f4032b3936206e8db2e0aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept connection on listen socket, and return client socket.  <br /></td></tr>
<tr class="separator:acb904407f0f4032b3936206e8db2e0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b18b0f4564e4c82cd9b940782612a9" id="r_ac6b18b0f4564e4c82cd9b940782612a9"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#ac6b18b0f4564e4c82cd9b940782612a9">tcp_get_option_name</a> (int id)</td></tr>
<tr class="memdesc:ac6b18b0f4564e4c82cd9b940782612a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate socket option integer value to string name.  <br /></td></tr>
<tr class="separator:ac6b18b0f4564e4c82cd9b940782612a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf36e9d70cc6aa06f6cf26b88ae0d6e" id="r_acdf36e9d70cc6aa06f6cf26b88ae0d6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#acdf36e9d70cc6aa06f6cf26b88ae0d6e">tcp_set_socket_option</a> (socket_t socket, int level, int option)</td></tr>
<tr class="memdesc:acdf36e9d70cc6aa06f6cf26b88ae0d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set socket option.  <br /></td></tr>
<tr class="separator:acdf36e9d70cc6aa06f6cf26b88ae0d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aaad09872f2d9da8e2cad2ac4fdf0dd" id="r_a7aaad09872f2d9da8e2cad2ac4fdf0dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a7aaad09872f2d9da8e2cad2ac4fdf0dd">tcp_get_socket_option</a> (socket_t socket, int level, int option)</td></tr>
<tr class="memdesc:a7aaad09872f2d9da8e2cad2ac4fdf0dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get socket option.  <br /></td></tr>
<tr class="separator:a7aaad09872f2d9da8e2cad2ac4fdf0dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38132dacc4b2d6e677deda18a792047b" id="r_a38132dacc4b2d6e677deda18a792047b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a38132dacc4b2d6e677deda18a792047b">tcp_set_reuse_addr</a> (socket_t socket)</td></tr>
<tr class="memdesc:a38132dacc4b2d6e677deda18a792047b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set SO_REUSEADDR option on socket.  <br /></td></tr>
<tr class="separator:a38132dacc4b2d6e677deda18a792047b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da6a165ce023d47cb5ac8be69f28fab" id="r_a6da6a165ce023d47cb5ac8be69f28fab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a6da6a165ce023d47cb5ac8be69f28fab">tcp_connect_ipv4</a> (socket_t socket, struct sockaddr *address)</td></tr>
<tr class="memdesc:a6da6a165ce023d47cb5ac8be69f28fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to socket using IPv4 address.  <br /></td></tr>
<tr class="separator:a6da6a165ce023d47cb5ac8be69f28fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f57311e53ad4560901331b53c3c4615" id="r_a2f57311e53ad4560901331b53c3c4615"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a2f57311e53ad4560901331b53c3c4615">tcp_receive</a> (socket_t socket, void *buf, size_t buflen)</td></tr>
<tr class="memdesc:a2f57311e53ad4560901331b53c3c4615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data from socket.  <br /></td></tr>
<tr class="separator:a2f57311e53ad4560901331b53c3c4615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efc8a2c4926cb637fb2b283bc6e67c4" id="r_a4efc8a2c4926cb637fb2b283bc6e67c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a4efc8a2c4926cb637fb2b283bc6e67c4">tcp_recv_all</a> (socket_t socket, void *buf, size_t buflen)</td></tr>
<tr class="memdesc:a4efc8a2c4926cb637fb2b283bc6e67c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data from socket, but read only on full buffer.  <br /></td></tr>
<tr class="separator:a4efc8a2c4926cb637fb2b283bc6e67c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4b9c362c4aa44f3986ec0c4a506717" id="r_a5d4b9c362c4aa44f3986ec0c4a506717"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__controller_8h.html#a5d4b9c362c4aa44f3986ec0c4a506717">tcp_send</a> (socket_t socket, void *data, size_t datalen)</td></tr>
<tr class="memdesc:a5d4b9c362c4aa44f3986ec0c4a506717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data using socket.  <br /></td></tr>
<tr class="separator:a5d4b9c362c4aa44f3986ec0c4a506717"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>TCP Controller header file. </p>
<dl class="section author"><dt>Author</dt><dd>Wojciech Mytych </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.2.3 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-02-26</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2024 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="acb904407f0f4032b3936206e8db2e0aa" name="acb904407f0f4032b3936206e8db2e0aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb904407f0f4032b3936206e8db2e0aa">&#9670;&#160;</a></span>tcp_accept_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_accept_client </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socket_t *&#160;</td>
          <td class="paramname"><em>client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept connection on listen socket, and return client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket[in]</td><td>listening socket descriptor </td></tr>
    <tr><td class="paramname">client[out]</td><td>new client connected socket descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_SOCKET</td><td>on invalid listen socket </td></tr>
    <tr><td class="paramname">errno</td><td>values on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa19f22c703b27c1834b997235fa198a6" name="aa19f22c703b27c1834b997235fa198a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa19f22c703b27c1834b997235fa198a6">&#9670;&#160;</a></span>tcp_bind_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_bind_socket </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr_in *&#160;</td>
          <td class="paramname"><em>addr_ipv4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind socket to prepared address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket_t</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">sockaddr_in*</td><td>prepared address</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">errno</td><td>value on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6da6a165ce023d47cb5ac8be69f28fab" name="a6da6a165ce023d47cb5ac8be69f28fab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da6a165ce023d47cb5ac8be69f28fab">&#9670;&#160;</a></span>tcp_connect_ipv4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_connect_ipv4 </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to socket using IPv4 address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">address</td><td>address to connect to</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_TCP_ADDR_ERROR</td><td>on invalid address </td></tr>
    <tr><td class="paramname">errno</td><td>on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a274866f382f711a467053cf394d3792e" name="a274866f382f711a467053cf394d3792e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a274866f382f711a467053cf394d3792e">&#9670;&#160;</a></span>tcp_create_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_create_socket </td>
          <td>(</td>
          <td class="paramtype">socket_t *&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket_t*[out]</td><td>pointer to where socket will be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_NULL_POINTER</td><td>on NULL socket_t* pointer </td></tr>
    <tr><td class="paramname">reads</td><td>errno on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46d32663b476a9417c5056b4d604438d" name="a46d32663b476a9417c5056b4d604438d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46d32663b476a9417c5056b4d604438d">&#9670;&#160;</a></span>tcp_get_bound_socket_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * tcp_get_bound_socket_ip </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read IPv4 address to which socket is bound. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function should only be called on bound sockets.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket_t</td><td>socket descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">har*</td><td>string containing IPv4 address </td></tr>
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0b781bbcb6353cf585fcb0003c42465" name="ae0b781bbcb6353cf585fcb0003c42465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b781bbcb6353cf585fcb0003c42465">&#9670;&#160;</a></span>tcp_get_bound_socket_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_get_bound_socket_port </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read port to which socket is bound. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function should only be called on bound sockets.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket_t</td><td>socket descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>value containing socket port on success </td></tr>
    <tr><td class="paramname">-1</td><td>on error (error value is logged) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac6b18b0f4564e4c82cd9b940782612a9" name="ac6b18b0f4564e4c82cd9b940782612a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b18b0f4564e4c82cd9b940782612a9">&#9670;&#160;</a></span>tcp_get_option_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * tcp_get_option_name </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translate socket option integer value to string name. </p>
<dl class="section note"><dt>Note</dt><dd>Not all socket options are currently translated.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>integer value of socket option</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">char*</td><td>option name string @reval char* "not known option" when no option is matched </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7aaad09872f2d9da8e2cad2ac4fdf0dd" name="a7aaad09872f2d9da8e2cad2ac4fdf0dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aaad09872f2d9da8e2cad2ac4fdf0dd">&#9670;&#160;</a></span>tcp_get_socket_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_get_socket_option </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get socket option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">level</td><td>option level (for example SOL_SOCKET) </td></tr>
    <tr><td class="paramname">option</td><td>option to get (for example SO_REUSEADDR)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">errno</td><td>values on error <br  />
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab93c55c49481e20286541651c674561b" name="ab93c55c49481e20286541651c674561b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93c55c49481e20286541651c674561b">&#9670;&#160;</a></span>tcp_prepare_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_prepare_address </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr_in *&#160;</td>
          <td class="paramname"><em>addr_ipv4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare address for binding socket. </p>
<dl class="section warning"><dt>Warning</dt><dd>When port is set to 0, wildcard port will be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint16_t[in]</td><td>address port </td></tr>
    <tr><td class="paramname">char*[in]</td><td>IPv4 address </td></tr>
    <tr><td class="paramname">sockaddr_in*[out]</td><td>pointer to sockaddr_in structure where address result will be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_NULL_POINTER</td><td>when address/addr_ipv4 was NULL </td></tr>
    <tr><td class="paramname">ERR_TCP_ADDR_ERROR</td><td>when address was invalid </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_PORT</td><td>when trying to use port &lt; 1024 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f57311e53ad4560901331b53c3c4615" name="a2f57311e53ad4560901331b53c3c4615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f57311e53ad4560901331b53c3c4615">&#9670;&#160;</a></span>tcp_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_receive </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data from socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">buf</td><td>buffer to store data </td></tr>
    <tr><td class="paramname">buflen</td><td>size of buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_SOCKET</td><td>on invalid socket </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_ARGS</td><td>on invalid arguments </td></tr>
    <tr><td class="paramname">errno</td><td>on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4efc8a2c4926cb637fb2b283bc6e67c4" name="a4efc8a2c4926cb637fb2b283bc6e67c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efc8a2c4926cb637fb2b283bc6e67c4">&#9670;&#160;</a></span>tcp_recv_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_recv_all </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data from socket, but read only on full buffer. </p>
<dl class="section note"><dt>Note</dt><dd>This function uses MSG_WAITALL option.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">buf</td><td>buffer to store data </td></tr>
    <tr><td class="paramname">buflen</td><td>size of buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_SOCKET</td><td>on invalid socket </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_ARGS</td><td>on invalid arguments </td></tr>
    <tr><td class="paramname">errno</td><td>on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d4b9c362c4aa44f3986ec0c4a506717" name="a5d4b9c362c4aa44f3986ec0c4a506717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d4b9c362c4aa44f3986ec0c4a506717">&#9670;&#160;</a></span>tcp_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_send </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data using socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">data</td><td>data to send </td></tr>
    <tr><td class="paramname">datalen</td><td>length of data to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_SOCKET</td><td>on invalid socket </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_ARGS</td><td>on invalid arguments </td></tr>
    <tr><td class="paramname">errno</td><td>on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a38132dacc4b2d6e677deda18a792047b" name="a38132dacc4b2d6e677deda18a792047b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38132dacc4b2d6e677deda18a792047b">&#9670;&#160;</a></span>tcp_set_reuse_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_set_reuse_addr </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set SO_REUSEADDR option on socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_SOCKET</td><td>on invalid socket </td></tr>
    <tr><td class="paramname">errno</td><td>on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acdf36e9d70cc6aa06f6cf26b88ae0d6e" name="acdf36e9d70cc6aa06f6cf26b88ae0d6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf36e9d70cc6aa06f6cf26b88ae0d6e">&#9670;&#160;</a></span>tcp_set_socket_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_set_socket_option </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set socket option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">level</td><td>option level (for example SOL_SOCKET) </td></tr>
    <tr><td class="paramname">option</td><td>option to set (for example SO_REUSEADDR)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">errno</td><td>values on error <br  />
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abcee5d45743bfa00a044a753f3ffa501" name="abcee5d45743bfa00a044a753f3ffa501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcee5d45743bfa00a044a753f3ffa501">&#9670;&#160;</a></span>tcp_socket_listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_socket_listen </td>
          <td>(</td>
          <td class="paramtype">socket_t&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>backlog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Listen on socket for incoming connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>socket descriptor </td></tr>
    <tr><td class="paramname">backlog</td><td>number of pending connections</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>backlog can be ignored by system, see <a href="https://www.linuxjournal.com/files/linuxjournal.com/linuxjournal/articles/023/2333/2333s2.html">https://www.linuxjournal.com/files/linuxjournal.com/linuxjournal/articles/023/2333/2333s2.html</a></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">ERR_TCP_INVALID_SOCKET</td><td>on invalid listen socket </td></tr>
    <tr><td class="paramname">errno</td><td>values on other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a9ec1ef424966475f993eb98877e3088.html">projects</a></li><li class="navelem"><a class="el" href="dir_b89048b57bfd67615bf500fdda124d93.html">lib_tests</a></li><li class="navelem"><a class="el" href="dir_855d5b67a0b6a1e95f97d8678c396cca.html">lib</a></li><li class="navelem"><a class="el" href="dir_78ac67dc0aba7b8cbb62cfdee47ae8ea.html">tcp_controller</a></li><li class="navelem"><a class="el" href="dir_b600c5293abce960b4454264c2b685e9.html">include</a></li><li class="navelem"><a class="el" href="tcp__controller_8h.html">tcp_controller.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
